/*! power by xiu front end team  build by grunt  2014-08-25 */
Namespace.register("xiu.module.widget"),xiu.module.widget.imgMarkWidget=function(a,b){this.eventDom=a;var c=this.getDefaultOptions();this.options=jQuery.extend(c,b),this.initHoverEvent()},xiu.module.widget.imgMarkWidget.prototype={getDefaultOptions:function(){return{eventBoxClass:"",listClass:"",hoverClass:"curr",delayTime:100,swithTwoImg:!1,fixedheight:0}},swithTwoImg:function(a,b){a.hide(),a.eq(b).show()},initHoverEvent:function(){var a=this;a.hoverStatus=!1;var b=this.eventDom,c=this.options;"ontouchstart"in document.documentElement&&b.on("touchstart",function(){var d=jQuery(this);if(d.hasClass(c.hoverClass)||0==d.find("."+c.listClass).length)d.find("a").off("click");else{d.find("a").on("click",function(a){a.preventDefault()});var e=b.filter("."+c.hoverClass);if(e.length>0){e.removeClass(c.hoverClass);var f=e.find("."+c.eventBoxClass),g=f.find("."+c.listClass).length;g>0&&f.animate({top:"0px"},c.delayTime)}d.addClass(c.hoverClass);var h=d.find("."+c.eventBoxClass),g=h.find("."+c.listClass).length;if(g>0){var i=h.outerHeight()+c.fixedheight;clearTimeout(a.mouseenterTimer),a.mouseenterTimer=setTimeout(function(){h.animate({top:-i+"px"},c.delayTime)},200)}}}),b.hover(function(){var b=jQuery(this);b.addClass(c.hoverClass),a.options.swithTwoImg&&a.swithTwoImg(b.find("a img"),1);var d=b.find("."+c.eventBoxClass),e=d.find("."+c.listClass).length;if(e>0){var f=d.outerHeight()+c.fixedheight;clearTimeout(a.mouseenterTimer),a.mouseenterTimer=setTimeout(function(){d.animate({top:-f+"px"},c.delayTime)},200)}},function(){var b=jQuery(this);b.removeClass(c.hoverClass),a.options.swithTwoImg&&a.swithTwoImg(b.find("a img"),0);var d=b.find("."+c.eventBoxClass),e=d.find("."+c.listClass).length;e>0&&d.animate({top:"0px"},c.delayTime)}),b.on("click","."+c.listClass,function(){jQuery(this).parents("li").children("a").trigger("click");var a=jQuery(this).parents("li").children("a").attr("href");window.open(a)})}},xiu.module.widget.imgMarkWidget.Instance=function(a,b){return new xiu.module.widget.imgMarkWidget(a,b)};